---
title: "magicfor: Magic Functions to Obtain Results from for Loops in R"
author: Koji MAKIYAMA (@hoxo_m)
output: 
  html_document:
    keep_md: true
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

[![Travis-CI Build Status](https://travis-ci.org/hoxo-m/magicfor.svg?branch=master)](https://travis-ci.org/hoxo-m/magicfor)
[![CRAN Version](http://www.r-pkg.org/badges/version/magicfor)](https://cran.r-project.org/package=magicfor)
[![Coverage Status](https://coveralls.io/repos/github/hoxo-m/magicfor/badge.svg?branch=master)](https://coveralls.io/github/hoxo-m/magicfor?branch=master)

## 1. Overview

`for()` is one of the most popular functions in R.
It is very useful to create loops, for example:

```{r}
for (i in 1:3) {
  squared <- i ^ 2
  print(squared)
}
```

```{r}
result <- vector("numeric", 3)
for (i in 1:3) {
  squared <- i ^ 2
  result[i] <- squared
}
result
```

```{r}
data.frame(i = 1:3, squared = result)
```

```{r}
library(magicfor)

magic_for(print)
for (i in 1:3) {
  squared <- i ^ 2
  print(squared)
}
magic_result_as_dataframe()
```

When we use for loops in R, we need to ready some variables for the results.

```{r}
result <- numeric(3)
for(i in 1:3) {
  x <- i * 2
  result[i] <- x
}
result
```

Before the (final) code, you may dash off the following code using `print()`.

```{r}
for(i in 1:3) {
  x <- i * 2
  print(x)
}
```

After you glanced at that the code goes well, you might start to modify the code to final.

The `magic_for()` function is very useful in such situations.

```{r}
library(magicfor)

magic_for()

for(i in 1:3) {
  x <- i * 2
  print(x)
}

result <- magic_result()
result$x
```

```{r}
magic_for()

for(i in 1:3) {
  x <- i * 2
  print(x)
  y <- i * 3
  print(y)
}

result <- magic_result_as_dataframe()
result
```

